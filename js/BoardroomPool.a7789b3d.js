(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BoardroomPool"],{"3c3d":function(t,e,a){"use strict";a("6062")},6062:function(t,e,a){},"857a":function(t,e,a){var o=a("1d80"),s=/"/g;t.exports=function(t,e,a,n){var i=String(o(t)),r="<"+e;return""!==a&&(r+=" "+a+'="'+String(n).replace(s,"&quot;")+'"'),r+">"+i+"</"+e+">"}},"8c4e":function(t,e,a){"use strict";a("f911")},9911:function(t,e,a){"use strict";var o=a("23e7"),s=a("857a"),n=a("af03");o({target:"String",proto:!0,forced:n("link")},{link:function(t){return s(this,"a","href",t)}})},af03:function(t,e,a){var o=a("d039");t.exports=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b0f8:function(t,e,a){"use strict";a("e934")},bf1f:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"boardroom-pool",class:[e.chainName,e.getLanguage]},[s("title-banner"),s("div",{staticClass:"boardroom-pool__content"},[s("div",{staticClass:"boardroom-pool__cards"},[s("div",{staticClass:"boardroom-pool__content-card"},[s("div",{staticClass:"pool__card-icon"},[s("img",{attrs:{src:e.getImgUrl(e.poolData.earnedToken),alt:""}}),e.isMobile?s("div",{staticClass:"pool__card-buttons"},[s("button",{staticClass:"claim",attrs:{disabled:!e.earn||isNaN(e.earn)},on:{click:e.handleClaim}},[e._v(" "+e._s(e.$t("Claim"))+" ")])]):e._e()]),s("div",{staticClass:"pool__card-text"},[e._v(" "+e._s(e.poolData.earnedToken||"MDX")+" "+e._s(e.$t("Earneds"))+" ")]),s("div",{staticClass:"pool__card-price"},[e._v(" "+e._s(Math.floor(1e4*e.earn)/1e4)+" ")]),e.isPC?s("div",{staticClass:"pool__card-buttons"},[s("button",{staticClass:"claim",attrs:{disabled:!e.earn||isNaN(e.earn)},on:{click:e.handleClaim}},[e._v(" "+e._s(e.$t("Claim"))+" ")])]):e._e(),s("p",{directives:[{name:"show",rawName:"v-show",value:"boardroom"==e.poolData.type&&128==e.chainId,expression:"poolData.type == 'boardroom' && chainId == 128"}],staticClass:"addToken",on:{click:function(t){return e.addToken(e.poolData)}}},[s("img",{attrs:{src:a("d07f")}}),e._v(" "+e._s(e.$t("addToken.text",{token:e.poolData.earnedToken})))])]),s("div",{staticClass:"boardroom-pool__content-card"},[s("img",{attrs:{src:e.getLpImgUrl(e.poolData),alt:"",height:"50"}}),e.isMobile?s("div",{staticClass:"pool__card-buttons"},[0==e.allowance&&e.account?s("button",{staticClass:"connect",on:{click:e.handleApprove}},[e._v(" "+e._s(e.$t("Approve"))+" ")]):e._e(),e.account?e._e():s("button",{staticClass:"connect",on:{click:e.handleWallet}},[e._v(" "+e._s(e.$t("UnlockWallet"))+" ")]),e.allowance>0&&e.account?s("div",{staticClass:"pool__card-step-warp line_bg"},[s("div",{staticClass:"pool__card-step",on:{click:function(){t.$refs.withdraw.showModel()}}},[e._v(" - ")]),s("div",{staticClass:"line_middel"}),"liquidity"==e.poolData.type&&(e.poolData.pid<8&&128==e.chainId||e.poolData.pid<28&&56==e.chainId)||"OLDHOO"==e.poolData.earned_token||"ZT"==e.poolData.earned_token||e.poolData.name.includes("ZT")?e._e():s("div",{staticClass:"pool__card-step",on:{click:function(){t.$refs.despoit.showModel()}}},[e._v(" + ")])]):e._e()]):e._e(),s("div",{staticClass:"pool__card-text"},[e._v(" "+e._s(e.poolData.name)+" "+e._s(e.$t("Stakeds"))+" ")]),s("div",{staticClass:"pool__card-price"},[e._v(" "+e._s(Math.floor(1e4*e.stakedValue)/1e4)+" ")]),e.isPC?s("div",{staticClass:"pool__card-buttons"},[0==e.allowance&&e.account?s("button",{staticClass:"connect",on:{click:e.handleApprove}},[e._v(" "+e._s(e.$t("Approve"))+" ")]):e._e(),e.account?e._e():s("button",{staticClass:"connect",on:{click:e.handleWallet}},[e._v(" "+e._s(e.$t("UnlockWallet"))+" ")]),e.allowance>0&&e.account?s("div",{staticClass:"pool__card-step-warp"},[s("div",{staticClass:"pool__card-step",on:{click:function(){t.$refs.withdraw.showModel()}}},[e._v(" - ")]),"liquidity"==e.poolData.type&&(74==e.poolData.pid&&128==e.chainId||e.poolData.pid<8&&128==e.chainId||e.poolData.pid<28&&56==e.chainId)||"OLDHOO"==e.poolData.earned_token||e.poolData.name.includes("ZT")?e._e():s("div",{staticClass:"pool__card-step",on:{click:function(){t.$refs.despoit.showModel()}}},[e._v(" + ")])]):e._e()]):e._e()])]),e.isShowTips?s("div",{staticClass:"tips"},[s("img",{attrs:{src:a("ece6"),alt:""}}),s("span",{domProps:{innerHTML:e._s(e.$t("noticeTips"))}}),s("span",{domProps:{innerHTML:e._s(e.$t("investNotice",{msg:e.isShowTips}))}})]):e._e(),e.isPC?s("div",{staticClass:"pool-settle-provide"},[s("button",{staticClass:"pool-settle",attrs:{disabled:!e.earn||isNaN(e.earn)},on:{click:e.settle}},[e._v(" "+e._s(e.$t("SettleWithdraw"))+" ")]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.link,expression:"link"}],staticClass:"pool-settle provide",attrs:{href:e.link,target:"_blank"}},[e._v(" "+e._s(e.$t("ProvideLiquidity"))+" ")])]):e._e(),e.isMobile?s("div",{staticClass:"pool-settle-provide line_disappear"},[s("div",{staticClass:"pool-settle button",class:[!e.earn||isNaN(e.earn)?" isDisabeld":""],on:{click:e.settle}},[e._v(" "+e._s(e.$t("SettleWithdraw"))+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.link,expression:"link"}],staticClass:"middel"}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.link,expression:"link"}],staticClass:"right pool-settle provide"},[s("a",{staticClass:"pool-settle provide",attrs:{href:e.link,target:"_blank"}},[e._v(" "+e._s(e.$t("ProvideLiquidity"))+" ")])])]):e._e()]),s("Despoit",{ref:"despoit",attrs:{pid:e.poolData.pid,account:e.account,max:e.lpBalance,data:e.poolData,erc20Utils:e.erc20Utils},on:{updateData:e.updateData}}),s("Withdraw",{ref:"withdraw",attrs:{pid:e.poolData.pid,account:e.account,max:e.stakedValue,data:e.poolData,erc20Utils:e.erc20Utils},on:{updateData:e.updateData}})],1)},s=[],n=a("1da1"),i=a("5530"),r=(a("96cf"),a("a9e3"),a("1276"),a("ac1f"),a("b0c0"),a("7db0"),a("caad"),a("2532"),a("9911"),a("99af"),function(){var t=this,e=this,o=e.$createElement,s=e._self._c||o;return s("transition",{class:e.chainName,attrs:{name:"modal"}},[e.modelShow?s("div",{staticClass:"model"},[s("div",{staticClass:"model-wrap"},[s("img",{staticClass:"close-icon",attrs:{src:a("c2f4")},on:{click:e.hideModel}}),s("h3",[e._v(e._s(e.$t("Deposit"))+" "+e._s(e.data.name))]),s("div",{staticClass:"input-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"text"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),s("div",{staticClass:"button-wrap"},[s("button",{attrs:{disabled:!e.max},on:{click:function(){return t.setMax()}}},[e._v("MAX")])])]),s("p",[e._v(e._s(e.max)+" "+e._s(e.data.name)+" "+e._s(e.$t("Available")))]),s("div",{staticClass:"btn"},[s("div",{staticClass:"cancel",on:{click:this.hideModel}},[e._v(e._s(e.$t("Cancel")))]),s("button",{staticClass:"confirm",attrs:{disabled:!Number(e.value)||Number(e.value)>Number(e.max)},on:{click:e.despoit}},[e._v(" "+e._s(e.$t("Confirm"))+" ")])])])]):e._e()])}),c=[],l=(a("d3b7"),a("2f62")),d=null,u={name:"Despoit",data:function(){return{modelShow:!1,value:""}},props:["max","account","pid","data","erc20Utils"],computed:Object(i["a"])({},Object(l["mapGetters"])(["isPC","isMobile","currentAddress"])),methods:{showModel:function(){this.modelShow=!0},hideModel:function(){this.modelShow=!1},setMax:function(){this.value=this.max},despoit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.erc20Utils.despoitValue,t.hideModel(),o="Despoit ".concat(t.value," ").concat(t.data.name),s=t.$overalltip({type:"loading",msg:o}),a(t.pid,t.value,t.account).then((function(e){t.$emit("updateData"),s.close();var a="".concat(o," Success");d=t.$overalltip({type:"success",msg:a})})).catch((function(e){s.close();var a="".concat(o," Error");d=t.$overalltip({type:"error",msg:a})})).finally((function(){t.value=0}));case 5:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){d&&d.close()}},p=u,m=(a("8c4e"),a("2877")),v=Object(m["a"])(p,r,c,!1,null,"6f35db98",null),h=v.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{class:t.chainName,attrs:{name:"modal"}},[t.modelShow?o("div",{staticClass:"model"},[o("div",{staticClass:"model-wrap"},[o("h3",[t._v(t._s(t.$t("Withdraw"))+" "+t._s(t.data.name))]),o("img",{staticClass:"close-icon",attrs:{src:a("c2f4")},on:{click:t.hideModel}}),o("div",{staticClass:"input-wrap"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),o("div",{staticClass:"button-wrap"},[o("button",{attrs:{disabled:!t.max},on:{click:t.setMax}},[t._v("MAX")])])]),o("p",[t._v(t._s(t.max)+" "+t._s(t.data.name)+" "+t._s(t.$t("Available")))]),o("div",{staticClass:"btn"},[o("div",{staticClass:"cancel",on:{click:this.hideModel}},[t._v(t._s(t.$t("Cancel")))]),o("button",{staticClass:"confirm",attrs:{disabled:!Number(t.value)||Number(t.value)>Number(t.max)},on:{click:t.handelWithdrawl}},[t._v(" "+t._s(t.$t("Confirm"))+" ")])])])]):t._e()])},_=[],b=null,g={name:"Withdraw",props:["max","account","pid","data","erc20Utils"],data:function(){return{modelShow:!1,value:""}},computed:Object(i["a"])({},Object(l["mapGetters"])(["isPC","isMobile","currentAddress"])),mounted:function(){},methods:{showModel:function(){this.modelShow=!0},hideModel:function(){this.modelShow=!1},setMax:function(){this.value=this.max},handelWithdrawl:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.hideModel(),a="Withdrawl ".concat(t.value," ").concat(t.data.name),o=t.$overalltip({type:"loading",msg:a}),s=t.erc20Utils.unStake,s(t.pid,t.value,t.account).then((function(e){t.$emit("updateData"),o.close();var s="".concat(a," Success");b=t.$overalltip({type:"success",msg:s})})).catch((function(e){o.close();var s="".concat(a," Error");b=t.$overalltip({type:"error",msg:s})})).finally((function(){t.value=0}));case 5:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){b&&b.close()}},w=g,C=(a("b0f8"),Object(m["a"])(w,f,_,!1,null,"66698610",null)),k=C.exports,$=a("4f22"),D=a("837b"),x=a("4027"),y=a("aa95"),M=null,O={name:"BoardroomPool",components:{Despoit:h,Withdraw:k,tipDialog:x["a"],TitleBanner:y["a"]},data:function(){return{stakedOptions:{decimalPlaces:4},link:""}},created:function(){},computed:{getLanguage:function(){return this.$store.state.language},isPC:function(){return this.$store.getters.isPC},isMobile:function(){return this.$store.getters.isMobile},currentAddress:function(){return this.$store.getters.currentAddress},chainId:function(){return this.$store.getters.chainId},coinConfig:function(){return D["a"][this.chainId]},account:function(){return this.$store.state.boardRoom.account||this.$store.state.account.address},stakedValue:function(){return this.$store.state.boardRoom.stakedValue},earn:function(){return Number(this.$store.state.boardRoom.earn)},allowance:function(){return this.$store.state.boardRoom.allowance},lpBalance:function(){return this.$store.state.boardRoom.lpBalance},apylist:function(){return this.$store.state.liquidity.apylist},isShowTips:function(){var t=this.poolData.name.split(" ")[0].split("/");return t.find((function(t){return"BLACK"===t}))},poolData:function(){var t=this.$route.params,e=t.type,a=t.earn,o=t.id;if("boardroom"==e){var s=this.$store.getters["boardRoom/currentChainBoardRoomData"][a],n=s.find((function(t){return t.pid==o}))||{};return n.name.includes(" LP")&&(this.link="https://".concat(56==this.chainId?"bsc":"ht",".mdex.com/#/add/").concat(n.token_main,"/").concat(n.token_slave,"?").concat(this.globalLanguage)),Object(i["a"])(Object(i["a"])({},n),{},{earn:a,type:e})}if("liquidity"==e){var r=this.$store.getters["liquidity/poolList"],c=r.find((function(t){return t.pid==o}))||{};if(this.apylist[c.pid]){var l=this.apylist[c.pid];l.pool_name.includes("/")&&(this.link="https://".concat(56==this.chainId?"bsc":"ht",".mdex.com/#/add/").concat(l.token0,"/").concat(l.token1,"?").concat(this.globalLanguage))}return Object(i["a"])(Object(i["a"])({},c),{},{earn:a,type:e})}},erc20Utils:function(){var t=this.$route.params,e=t.type,a=t.earn;return Object($["k"])(this.$store.state.chainId,e,a)}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$route.params.id,t.pid=a,t.updateData();case 3:case"end":return e.stop()}}),e)})))()},watch:{chainId:function(){this.updateData()}},methods:{getImgUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MDX";return this.globalGetImgUrl(this.coinConfig[t.toLowerCase()])},getLpImgUrl:function(t){return this.globalGetImgUrl(t.lpAddress)},updateData:function(){this.$store.dispatch("boardRoom/getWalletData",this.poolData)},addToken:function(t){var e=18;"HOO"==t.earnedToken&&(e=8);var a=this.getImgUrl(t.earnedToken),o="boardroom"==t.type?t.earnedToken:"MDX";ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:this.coinConfig[o.toLowerCase()],symbol:o,decimals:e,image:a}}})},settle:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.erc20Utils.unStake,o="Settle & Withdraw Tokens",s=t.$overalltip({type:"loading",msg:o}),a(t.pid,t.stakedValue,t.account).then((function(e){t.updateData(),s.close();var a="".concat(o," Success");M=t.$overalltip({type:"success",msg:a})})).catch((function(e){s.close();var a="".concat(o," Error");M=t.$overalltip({type:"error",msg:a})}));case 4:case"end":return e.stop()}}),e)})))()},handleWallet:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:t.updateData();case 3:case"end":return e.stop()}}),e)})))()},handleClaim:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.erc20Utils.despoitValue,o="Claim ".concat(t.earn," ").concat(t.poolData.earn.toUpperCase()),s=t.$overalltip({type:"loading",msg:o}),a(t.pid,0,t.account).then((function(e){t.updateData(),s.close();var a="Claim ".concat(t.poolData.earn.toUpperCase()," Success");M=t.$overalltip({type:"success",msg:a})})).catch((function(e){s.close();var a="Claim ".concat(t.poolData.earn.toUpperCase()," Error");M=t.$overalltip({type:"error",msg:a})}));case 4:case"end":return e.stop()}}),e)})))()},handleApprove:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o,s,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.erc20Utils,o=a.approveToken,s=a.saveLocalAllowance,n=t.poolData.lpAddress,i="Approve ".concat(t.poolData.name),r=t.$overalltip({type:"loading",msg:i}),o(n,t.account).then((function(e){r.close(),s(n,t.account),t.updateData();var a="".concat(i," Success");M=t.$overalltip({type:"success",msg:a})})).catch((function(e){r.close();var a="".concat(i," Error");M=t.$overalltip({type:"error",msg:a})}));case 5:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){M&&M.close()}},N=O,S=(a("3c3d"),Object(m["a"])(N,o,s,!1,null,"178ab0d1",null));e["default"]=S.exports},d07f:function(t,e,a){t.exports=a.p+"img/metamask-fox.c06f3a3e.svg"},e934:function(t,e,a){},ece6:function(t,e,a){t.exports=a.p+"img/notice.93afaa49.svg"},f911:function(t,e,a){}}]);